<!DOCTYPE html>
<html>
<head>
  <title>Plotting in R</title>
  <meta charset="utf-8">
  <meta name="description" content="Plotting in R">
  <meta name="author" content="Ryan Hope">
  <meta name="generator" content="slidify" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/default.css" media="all" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/phone.css" 
    media="only screen and (max-device-width: 480px)" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/slidify.css" >
  <link rel="stylesheet" href="libraries/highlighters/highlight.js/css/tomorrow.css" />
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->
  <script data-main="libraries/frameworks/io2012/js/slides" 
    src="libraries/frameworks/io2012/js/require-1.0.8.min.js">
  </script>
  
    <link rel="stylesheet" href = "assets/css/ribbons.css">

</head>
<body style="opacity: 0">
  <slides class="layout-widescreen">
    
    <!-- LOGO SLIDE -->
    <slide class="nobackground">
      <article class="flexbox vcenter">
        <span>
          <img width='400px' src="assets/img/rpi_logo.png">
        </span>
      </article>
    </slide>
    <!-- END LOGO SLIDE -->
    

    <!-- TITLE SLIDE -->
    <!-- Should I move this to a Local Layout File? -->
    <slide class="title-slide segue nobackground">
      <aside class="gdbar">
        <img src="assets/img/cogworks_logo.png">
      </aside>
      <hgroup class="auto-fadein">
        <h1>Plotting in R</h1>
        <h2>http://cogworks.cogsci.rpi.edu/plotting-in-r</h2>
        <p>Ryan Hope<br/>CogWorks Lab, Rensselaer Polytechnic Institute</p>
      </hgroup>
          </slide>

    <!-- SLIDES -->
      <slide class="" id="slide-1" style="background:;">
  <hgroup>
    <h2>Graphics Frameworks</h2>
  </hgroup>
  <article>
    <h3>graphics</h3>

<ul>
<li>Part of R &quot;base&quot;, nothing extra to install</li>
</ul>

<h3>lattice</h3>

<ul>
<li>An implementation of Trellis graphics for R</li>
<li>Trellis graphics are a relatively new style of graphics that are particularly useful for displaying multivariate and especially grouped data</li>
</ul>

<h3>ggplot2</h3>

<ul>
<li>Based on the grammar of graphics, which tries to take the good parts of base and lattice graphics and none of the bad parts</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-2">
<hgroup>
  <h2>Base graphics</h2>
</hgroup>
<article class = 'flexbox vcenter'>
<p><img width='400px' src="assets/img/thumbs_down_smiley2red.png"></p>

<h3>DONT WASTE YOUR TIME</h3>

</article>
<!-- Presenter Notes -->
</slide>
      <slide class="" id="slide-3">
<hgroup>
  <h2>Test Data</h2>
</hgroup>
<article class = 'flexbox vcenter'>
<pre><code class="r">source(&quot;http://cogworks.cogsci.rpi.edu/plotting-in-r/data.R&quot;)
</code></pre>

</article>
<!-- Presenter Notes -->
</slide>
      <slide class="" id="slide-4" style="background:;">
  <hgroup>
    <h2>Test Data 1 - Long Format</h2>
  </hgroup>
  <article>
    <pre><code class="r">x &lt;- seq(-pi, pi, length.out = 100)
y &lt;- c(sin(x), cos(x)) + rnorm(200, sd = 0.25)
d1 &lt;- data.frame(y = y, x = rep(x, 2), type = rep(c(&quot;sin&quot;, &quot;cos&quot;), each = length(x)))
str(d1)
</code></pre>

<pre><code>## &#39;data.frame&#39;:    200 obs. of  3 variables:
##  $ y   : num  0.201 0.499 -0.143 -0.128 -0.114 ...
##  $ x   : num  -3.14 -3.08 -3.01 -2.95 -2.89 ...
##  $ type: Factor w/ 2 levels &quot;cos&quot;,&quot;sin&quot;: 2 2 2 2 2 2 2 2 2 2 ...
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-5" style="background:;">
  <hgroup>
    <h2>Test Data 2 - Wide Format</h2>
  </hgroup>
  <article>
    <pre><code class="r">d2 &lt;- data.frame(reshape(d1, timevar = &quot;type&quot;, idvar = c(&quot;x&quot;), direction = &quot;wide&quot;))
str(d2)
</code></pre>

<pre><code>## &#39;data.frame&#39;:    100 obs. of  3 variables:
##  $ x    : num  -3.14 -3.08 -3.01 -2.95 -2.89 ...
##  $ y.sin: num  0.201 0.499 -0.143 -0.128 -0.114 ...
##  $ y.cos: num  -1.184 -0.682 -1.217 -0.71 -0.68 ...
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-6" style="background:;">
  <hgroup>
    <h2>Test Data 3</h2>
  </hgroup>
  <article>
    <pre><code class="r">d3 &lt;- data.frame(
  x=rep(1:5,each=100),
  y=c(unlist(lapply(1:5, function(x){rnorm(n=100,mean=2^x)})),
      unlist(lapply(1:5, function(x){rnorm(n=100,mean=50+2^x)}))),
  g=rep(1:2,each=500))
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-7" style="background:;">
  <hgroup>
    <h2>Test Data 4</h2>
  </hgroup>
  <article>
    <pre><code class="r">x &lt;- seq(pi/4, 5 * pi, length.out = 100)
y &lt;- seq(pi/4, 5 * pi, length.out = 100)
r &lt;- as.vector(sqrt(outer(x^2, y^2, &quot;+&quot;)))
d4 &lt;- expand.grid(x = x, y = y)
d4$z &lt;- cos(r^2) * exp(-r/(pi^3))
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-8" style="background:;">
  <hgroup>
    <h2>Lattice</h2>
  </hgroup>
  <article>
    <pre><code class="r">install.packages(&quot;lattice&quot;, dependencies = TRUE)
</code></pre>


<div style='float:left;width:48%;'>
  <p><strong>Univariate</strong>:</p>

<ul>
<li><span style="color:blue;">barchart</span>: Bar plots</li>
<li><span style="color:blue;">bwplot</span>: Box-and-whisker plots</li>
<li><span style="color:blue;">densityplot</span>: Kernel density estimates</li>
<li><span style="color:blue;">dotplot</span>: Cleveland dot plots</li>
<li><span style="color:blue;">histogram</span>: Histograms</li>
<li><span style="color:blue;">qqmath</span>: Theretical quantile plots</li>
<li><span style="color:blue;">stripplot</span>: One-dimensional scatterplots</li>
</ul>


</div>
<div style='float:right;width:48%;'>
  <p><strong>Bivariate</strong>:</p>

<ul>
<li><span style="color:blue;">qq</span>: Quantile plots</li>
<li><span style="color:blue;">xyplot</span>: Scatterplots and time-series plots</li>
</ul>

<p><strong>Trivariate</strong>:</p>

<ul>
<li><span style="color:blue;">levelplot</span>: Level plots</li>
<li><span style="color:blue;">contourplot</span>: Contour plots</li>
<li><span style="color:blue;">cloud</span>: Three-dimensional scatter plots</li>
<li><span style="color:blue;">wireframe</span>: Three-dimensional surface plots</li>
</ul>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-9" style="background:;">
  <hgroup>
    <h2>Lattice - histogram</h2>
  </hgroup>
  <article>
    
<div style='float:left;width:48%;'>
  <pre><code class="r">histogram(~y, d3)
</code></pre>


</div>
<div style='float:right;width:48%;'>
  <p><img src="figure/unnamed-chunk-9.png" alt="plot of chunk unnamed-chunk-9"> </p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-10" style="background:;">
  <hgroup>
    <h2>Lattice - histogram w/ conditioning factor</h2>
  </hgroup>
  <article>
    
<div style='float:left;width:48%;'>
  <pre><code class="r">histogram(~y | as.factor(g), d3)
</code></pre>


</div>
<div style='float:right;width:48%;'>
  <p><img src="figure/unnamed-chunk-11.png" alt="plot of chunk unnamed-chunk-11"> </p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-11" style="background:;">
  <hgroup>
    <h2>Lattice - barchart</h2>
  </hgroup>
  <article>
    
<div style='float:left;width:48%;'>
  <pre><code class="r">barchart(y ~ as.factor(x),
  aggregate(y ~ x, data = d3, mean))
</code></pre>


</div>
<div style='float:right;width:48%;'>
  <p><img src="figure/unnamed-chunk-13.png" alt="plot of chunk unnamed-chunk-13"> </p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-12" style="background:;">
  <hgroup>
    <h2>Lattice - barchart w/ conditioning factor</h2>
  </hgroup>
  <article>
    
<div style='float:left;width:48%;'>
  <pre><code class="r">barchart(y ~ as.factor(x) | as.factor(g),
  aggregate(y ~ x + g, data = d3, mean))
</code></pre>


</div>
<div style='float:right;width:48%;'>
  <p><img src="figure/unnamed-chunk-15.png" alt="plot of chunk unnamed-chunk-15"> </p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-13" style="background:;">
  <hgroup>
    <h2>Lattice - condition barchart w/ free scales</h2>
  </hgroup>
  <article>
    
<div style='float:left;width:48%;'>
  <pre><code class="r">barchart(y ~ as.factor(x) | as.factor(g),
  aggregate(y ~ x + g, data = d3, mean),
  scales=list(y=list(relation=&quot;free&quot;)))
</code></pre>


</div>
<div style='float:right;width:48%;'>
  <p><img src="figure/unnamed-chunk-17.png" alt="plot of chunk unnamed-chunk-17"> </p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-14" style="background:;">
  <hgroup>
    <h2>Lattice - barchart w/ grouping factor</h2>
  </hgroup>
  <article>
    
<div style='float:left;width:48%;'>
  <pre><code class="r">barchart(y ~ as.factor(x),
  aggregate(y ~ x + g, data = d3, mean),
  groups = as.factor(g))
</code></pre>


</div>
<div style='float:right;width:48%;'>
  <p><img src="figure/unnamed-chunk-19.png" alt="plot of chunk unnamed-chunk-19"> </p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-15" style="background:;">
  <hgroup>
    <h2>Lattice - barchart w/ auto.key</h2>
  </hgroup>
  <article>
    
<div style='float:left;width:48%;'>
  <pre><code class="r">barchart(y ~ as.factor(x),
  aggregate(y ~ x + g, data = d3, mean),
  groups = as.factor(g),
  auto.key = T)
</code></pre>


</div>
<div style='float:right;width:48%;'>
  <p><img src="figure/unnamed-chunk-21.png" alt="plot of chunk unnamed-chunk-21"> </p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-16" style="background:;">
  <hgroup>
    <h2>Lattice - barchart w/ auto.key</h2>
  </hgroup>
  <article>
    
<div style='float:left;width:48%;'>
  <pre><code class="r">barchart(y ~ as.factor(x),
  aggregate(y ~ x + g, data = d3, mean),
  groups = as.factor(g),
  auto.key = list(columns = 2))
</code></pre>


</div>
<div style='float:right;width:48%;'>
  <p><img src="figure/unnamed-chunk-23.png" alt="plot of chunk unnamed-chunk-23"> </p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-17" style="background:;">
  <hgroup>
    <h2>Lattice - barchart w/ auto.key</h2>
  </hgroup>
  <article>
    
<div style='float:left;width:48%;'>
  <pre><code class="r">barchart(y ~ as.factor(x),
  aggregate(y ~ x + g, data = d3, mean),
  groups = as.factor(g),
  auto.key = list(space = &quot;right&quot;))
</code></pre>


</div>
<div style='float:right;width:48%;'>
  <p><img src="figure/unnamed-chunk-25.png" alt="plot of chunk unnamed-chunk-25"> </p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-18" style="background:;">
  <hgroup>
    <h2>Lattice - xyplot</h2>
  </hgroup>
  <article>
    
<div style='float:left;width:48%;'>
  <pre><code class="r">xyplot(y ~ x, d1)
</code></pre>


</div>
<div style='float:right;width:48%;'>
  <p><img src="figure/unnamed-chunk-27.png" alt="plot of chunk unnamed-chunk-27"> </p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-19" style="background:;">
  <hgroup>
    <h2>Lattice - xyplot w/ conditioning factor</h2>
  </hgroup>
  <article>
    
<div style='float:left;width:48%;'>
  <pre><code class="r">xyplot(y ~ x | type, d1)
</code></pre>


</div>
<div style='float:right;width:48%;'>
  <p><img src="figure/unnamed-chunk-29.png" alt="plot of chunk unnamed-chunk-29"> </p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-20" style="background:;">
  <hgroup>
    <h2>Lattice - xyplot w/ grouping factor</h2>
  </hgroup>
  <article>
    
<div style='float:left;width:48%;'>
  <pre><code class="r">xyplot(y ~ x, d1, groups = type,
  auto.key = list(space = &quot;right&quot;))
</code></pre>


</div>
<div style='float:right;width:48%;'>
  <p><img src="figure/unnamed-chunk-31.png" alt="plot of chunk unnamed-chunk-31"> </p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-21" style="background:;">
  <hgroup>
    <h2>Lattice - xyplot w/ two y variables</h2>
  </hgroup>
  <article>
    
<div style='float:left;width:48%;'>
  <pre><code class="r">xyplot(y.cos + y.sin ~ x, d2,
  auto.key = list(space = &quot;right&quot;))
</code></pre>


</div>
<div style='float:right;width:48%;'>
  <p><img src="figure/unnamed-chunk-33.png" alt="plot of chunk unnamed-chunk-33"> </p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-22" style="background:;">
  <hgroup>
    <h2>Lattice - xyplot - changing plot type</h2>
  </hgroup>
  <article>
    
<div style='float:left;width:48%;'>
  <pre><code class="r">xyplot(y ~ x, d1, groups = type,
  auto.key = list(space = &quot;right&quot;),
  type = &quot;l&quot;)
</code></pre>


</div>
<div style='float:right;width:48%;'>
  <p><img src="figure/unnamed-chunk-35.png" alt="plot of chunk unnamed-chunk-35"> </p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-23" style="background:;">
  <hgroup>
    <h2>Lattice - xyplot - changing plot type</h2>
  </hgroup>
  <article>
    
<div style='float:left;width:48%;'>
  <pre><code class="r">xyplot(y ~ x, d1, groups = type,
  auto.key = list(space = &quot;right&quot;),
  type = &quot;b&quot;)
</code></pre>


</div>
<div style='float:right;width:48%;'>
  <p><img src="figure/unnamed-chunk-37.png" alt="plot of chunk unnamed-chunk-37"> </p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-24" style="background:;">
  <hgroup>
    <h2>Lattice - xyplot - opther options</h2>
  </hgroup>
  <article>
    
<div style='float:left;width:48%;'>
  <pre><code class="r">xyplot(y ~ x, d1, groups = type,
  auto.key = list(space = &quot;right&quot;),
  type = &quot;b&quot;, pch=2, cex=.5, lty=2, lwd=2)
</code></pre>


</div>
<div style='float:right;width:48%;'>
  <p><img src="figure/unnamed-chunk-39.png" alt="plot of chunk unnamed-chunk-39"> </p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-25" style="background:;">
  <hgroup>
    <h2>Lattice - xyplot - tick locations</h2>
  </hgroup>
  <article>
    
<div style='float:left;width:48%;'>
  <pre><code class="r">xyplot(y ~ x, d1, groups = type,
  auto.key = list(space = &quot;right&quot;),
  scales = list(x = list(
    at = c(-pi, -pi/2, 0, pi/2, pi))))
</code></pre>


</div>
<div style='float:right;width:48%;'>
  <p><img src="figure/unnamed-chunk-41.png" alt="plot of chunk unnamed-chunk-41"> </p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-26" style="background:;">
  <hgroup>
    <h2>Lattice - xyplot - tick labels</h2>
  </hgroup>
  <article>
    
<div style='float:left;width:48%;'>
  <pre><code class="r">l &lt;- expression(-pi, -pi/2, 0, pi/2, pi)
xyplot(y ~ x, d1, groups = type,
  auto.key = list(space = &quot;right&quot;),
  scales = list(x = list(
    at = c(-pi, -pi/2, 0, pi/2, pi),
    labels = l
    )))
</code></pre>


</div>
<div style='float:right;width:48%;'>
  <p><img src="figure/unnamed-chunk-43.png" alt="plot of chunk unnamed-chunk-43"> </p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-27" style="background:;">
  <hgroup>
    <h2>Lattice Panels</h2>
  </hgroup>
  <article>
    
<div style='float:left;width:48%;'>
  <pre><code class="r">xyplot(y ~ x, d1, groups = type,
  auto.key = list(space = &quot;right&quot;),
  type = &quot;b&quot;,
  panel=function(...) {
    panel.xyplot(...)
  }
)
</code></pre>


</div>
<div style='float:right;width:48%;'>
  <p><img src="figure/unnamed-chunk-45.png" alt="plot of chunk unnamed-chunk-45"> </p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-28" style="background:;">
  <hgroup>
    <h2>Lattice Panels + Smoother</h2>
  </hgroup>
  <article>
    
<div style='float:left;width:48%;'>
  <pre><code class="r">xyplot(y ~ x, d1, groups = type,
  auto.key = list(space = &quot;right&quot;),
  type = &quot;p&quot;,
  panel = panel.superpose,
  panel.groups = function(..., pch, lwd) {
    panel.xyplot(..., pch = 2)
    panel.loess(..., span = .2, lwd = 4)
  }
)
</code></pre>


</div>
<div style='float:right;width:48%;'>
  <p><img src="figure/unnamed-chunk-47.png" alt="plot of chunk unnamed-chunk-47"> </p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-29" style="background:;">
  <hgroup>
    <h2>Lattice - levelplot</h2>
  </hgroup>
  <article>
    
<div style='float:left;width:48%;'>
  <pre><code class="r">levelplot(z ~ x + y, d4)
</code></pre>


</div>
<div style='float:right;width:48%;'>
  <p><img src="figure/unnamed-chunk-49.png" alt="plot of chunk unnamed-chunk-49"> </p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-30" style="background:;">
  <hgroup>
    <h2>Lattice - need help?</h2>
  </hgroup>
  <article>
    <h3>The arguments and valid values for all lattice plot functions are described in the help page for &#39;xyplot&#39;.</h3>

<pre><code class="r">help(trellis)
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

      <slide class="" id="slide-31" style="background:;">
  <hgroup>
    <h2>ggplot2</h2>
  </hgroup>
  <article>
    <h3>Great documentation and examples available online</h3>

<ul>
<li><a href="http://docs.ggplot2.org/current">http://docs.ggplot2.org/current</a></li>
<li><a href="http://www.ceb-institute.org/bbs/wp-content/uploads/2011/09/handout_ggplot2.pdf">http://www.ceb-institute.org/bbs/wp-content/uploads/2011/09/handout_ggplot2.pdf</a></li>
<li><a href="http://wiki.stdout.org/rcookbook/Graphs">http://wiki.stdout.org/rcookbook/Graphs</a></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

    <slide class="backdrop"></slide>
  </slides>

  <!--[if IE]>
    <script 
      src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js">  
    </script>
    <script>CFInstall.check({mode: 'overlay'});</script>
  <![endif]-->
</body>
<!-- Grab CDN jQuery, fall back to local if offline -->
<script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.min.js"></script>
<script>window.jQuery || document.write('<script src="libraries/widgets/quiz/js/jquery-1.7.min.js"><\/script>')</script>
<!-- Load Javascripts for Widgets -->
<!-- LOAD HIGHLIGHTER JS FILES -->
<script src="libraries/highlighters/highlight.js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<!-- DONE LOADING HIGHLIGHTER JS FILES -->
</html>